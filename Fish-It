-- === FISH IT WEBHOOK NOTIFIER ===
-- By: [Your Name] | For Delta Executor

-- ‚úÖ SETTING WEBHOOK MANUAL (GANTI DENGAN URL MU)
local WEBHOOK_URL = "https://discord.com/api/webhooks/your-webhook-url-here"

-- ‚úÖ SETTING ANIMASI & TAMPILAN
local FISH_NAMES = {
    "Piranha", "Swordfish", "Shark", "Goldfish", "Tuna", "Manta Ray",
    "Octopus", "Dolphin", "Whale", "Seahorse", "Jellyfish", "Coral"
}

local function sendWebhook(fishName, rarity, level)
    local content = string.format(
        "**üéâ Ikan Ditemukan!**\n\n" ..
        "**Ikan:** %s\n" ..
        "**Rarity:** %s\n" ..
        "**Level:** %d\n" ..
        "\nüêü *Dipancing oleh: %s*",
        fishName,
        rarity,
        level,
        game.Players.LocalPlayer.Name
    )

    local embed = {
        title = "üé£ Fish It - Notifikasi Ikan Baru!",
        description = content,
        color = 0x0099FF, -- Biru muda
        footer = {
            text = "Fish Atelier ‚Ä¢ Made with ‚ù§Ô∏è",
            icon_url = "https://cdn.discordapp.com/avatars/123456789012345678/abc123.png"
        },
        thumbnail = {
            url = "https://i.imgur.com/9cXoHjK.png" -- Ganti dengan gambar ikan
        },
        timestamp = os.date("!%Y-%m-%dT%H:%M:%S")
    }

    local data = {
        ["content"] = "",
        ["embeds"] = {embed}
    }

    local success, response = pcall(function()
        local http = HttpService
        local req = http:PostAsync(WEBHOOK_URL, HttpService:JSONEncode(data))
        return req
    end)

    if success then
        print("‚úÖ Webhook terkirim!")
    else
        warn("‚ùå Gagal mengirim webhook: ", response)
    end
end

-- ‚úÖ DETEKSI EVENT KAPAN MENANGKAP IKAN
game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
    local humanoid = char:FindFirstChild("Humanoid")
    if humanoid then
        humanoid.Died:Connect(function()
            print("üíÄ Karakter mati!")
        end)
    end
end)

-- ‚úÖ Cek event saat menangkap ikan (gunakan hook atau event dari game)
-- Jika game tidak memiliki event eksplisit, kita pakai metode "detect by inventory"
local player = game:GetService("Players").LocalPlayer
local backpack = player.Backpack

local function onFishCaught()
    local items = backpack:GetChildren()
    for _, item in ipairs(items) do
        if item:IsA("Tool") and string.find(item.Name:lower(), "fish") then
            local fishName = item.Name
            local rarity = "Common"
            local level = math.random(1, 100)

            -- Random rarity
            if math.random(1, 100) <= 5 then
                rarity = "Legendary"
            elseif math.random(1, 100) <= 15 then
                rarity = "Rare"
            elseif math.random(1, 100) <= 30 then
                rarity = "Uncommon"
            end

            -- Animasi visual (tampilan keren)
            local screen = workspace:FindFirstChild("ScreenGui")
            if not screen then
                screen = Instance.new("ScreenGui")
                screen.Name = "FishNotifier"
                screen.Parent = game:GetService("CoreGui")
            end

            local frame = Instance.new("Frame")
            frame.Size = UDim2.new(0, 300, 0, 120)
            frame.Position = UDim2.new(0.5, -150, 0.5, -60)
            frame.BackgroundColor3 = Color3.fromRGB(20, 20, 40)
            frame.BorderColor3 = Color3.fromRGB(0, 100, 255)
            frame.BorderSizePixel = 3
            frame.Visible = false
            frame.Parent = screen

            local label = Instance.new("TextLabel")
            label.Text = "üé£ " .. fishName .. "!"
            label.Font = Enum.Font.SourceSansBold
            label.TextColor3 = Color3.fromRGB(255, 255, 255)
            label.BackgroundTransparency = 1
            label.Size = UDim2.new(1, 0, 0, 30)
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Parent = frame

            local rarityLabel = Instance.new("TextLabel")
            rarityLabel.Text = "‚ú® " .. rarity
            rarityLabel.Font = Enum.Font.SourceSans
            rarityLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            rarityLabel.BackgroundTransparency = 1
            rarityLabel.Size = UDim2.new(1, 0, 0, 20)
            rarityLabel.Position = UDim2.new(0, 0, 0, 30)
            rarityLabel.Parent = frame

            local levelLabel = Instance.new("TextLabel")
            levelLabel.Text = "Lv. " .. level
            levelLabel.Font = Enum.Font.SourceSans
            levelLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            levelLabel.BackgroundTransparency = 1
            levelLabel.Size = UDim2.new(1, 0, 0, 20)
            levelLabel.Position = UDim2.new(0, 0, 0, 50)
            levelLabel.Parent = frame

            -- Animasi masuk
            frame.Visible = true
            frame:TweenSize(UDim2.new(0, 300, 0, 120), "Out", "Quad", 0.5, true)
            frame:TweenPosition(UDim2.new(0.5, -150, 0.5, -60), "Out", "Quad", 0.5, true)

            task.delay(3, function()
                frame:TweenSize(UDim2.new(0, 300, 0, 0), "In", "Quad", 0.5, true)
                frame:TweenPosition(UDim2.new(0.5, -150, 0.5, -60), "In", "Quad", 0.5, true)
                task.delay(0.5, function()
                    if frame.Parent then
                        frame:Destroy()
                    end
                end)
            end)

            -- Kirim webhook
            sendWebhook(fishName, rarity, level)
        end
    end
end

-- ‚úÖ MONITORING BACKPACK (setiap 1 detik)
spawn(function()
    while wait(1) do
        onFishCaught()
    end
end)

-- ‚úÖ DEBUG INFO
print("üîß Fish It Webhook Notifier Aktif! Webhook: " .. tostring(WEBHOOK_URL))